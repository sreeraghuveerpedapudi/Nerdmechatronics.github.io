<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sree Raghuveer – Embedded Projects (Instructables‑style)</title>
  <meta name="description" content="Step‑by‑step embedded projects with photos, videos, materials, and build logs." />
  <style>
    :root{
      --bg:#0a0f16; --surface:#0f1622; --muted:#9bb2c9; --text:#e8f0f7; --line:#1e2a3c; --accent:#fbbf24; --accent2:#60a5fa; --good:#34d399; --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    html,body{margin:0; padding:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial; background:var(--bg); color:var(--text)}
    a{color:var(--accent2); text-decoration:none}
    a:hover{opacity:.9}
    .container{max-width:1200px; margin:0 auto; padding:18px}
    /* Header */
    header{position:sticky; top:0; z-index:40; backdrop-filter: blur(6px); background:rgba(10,15,22,.7); border-bottom:1px solid var(--line)}
    .topbar{display:flex; gap:16px; align-items:center; justify-content:space-between; padding:10px 16px}
    .brand{display:flex; gap:10px; align-items:center}
    .logo{width:34px; height:34px; border-radius:8px; background:linear-gradient(135deg,var(--accent),var(--warn)); display:grid; place-items:center; color:#0b0b0b; font-weight:800}
    .brand h1{font-size:1.1rem; margin:0}
    .search{flex:1; display:flex; gap:8px; align-items:center; max-width:560px; margin:0 16px}
    .search input{flex:1; background:var(--surface); border:1px solid var(--line); color:var(--text); padding:10px 12px; border-radius:10px}
    .btn{background:var(--surface); border:1px solid var(--line); color:var(--text); padding:10px 12px; border-radius:10px; cursor:pointer}
    nav.links{display:flex; gap:12px}
    nav.links a{padding:8px 10px; border-radius:10px; background:#0c121c; border:1px solid var(--line)}

    /* Home grid */
    .grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:16px}
    .card{background:var(--surface); border:1px solid var(--line); border-radius:14px; overflow:hidden; transition:transform .15s ease, box-shadow .15s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 12px 30px rgba(0,0,0,.35)}
    .thumb{width:100%; height:160px; object-fit:cover; display:block; background:#0d1420}
    .card .p{padding:12px}
    .title{font-weight:700; margin:0 0 6px}
    .meta{color:var(--muted); font-size:.9rem}
    .tags{display:flex; flex-wrap:wrap; gap:8px; margin-top:8px}
    .tag{font-size:.78rem; padding:4px 8px; background:#0c121c; border:1px solid var(--line); border-radius:999px; color:#cfe4ff}

    /* Project view */
    .project{display:grid; grid-template-columns: 250px 1fr 280px; gap:16px}
    .pane{background:var(--surface); border:1px solid var(--line); border-radius:14px}
    .pane h3{margin:0; padding:12px 14px; border-bottom:1px solid var(--line)}
    .pane .body{padding:14px}
    .hero{width:100%; height:260px; object-fit:cover; border-bottom:1px solid var(--line)}
    .stats{display:flex; gap:10px; flex-wrap:wrap; margin:10px 0}
    .pill{padding:6px 10px; border-radius:999px; background:#0c121c; border:1px solid var(--line); color:#cfe4ff; font-size:.9rem}
    .actions{display:flex; gap:10px; flex-wrap:wrap; margin:10px 0}
    .cta{padding:10px 12px; border-radius:10px; border:1px solid var(--line); background:#0c121c}

    /* Steps */
    .steps-list{list-style:none; margin:0; padding:0}
    .steps-list li{border-bottom:1px dashed var(--line)}
    .steps-list a{display:block; padding:10px 12px}
    .step{margin-bottom:22px}
    .step h4{margin:8px 0}
    .media{width:100%; border:1px solid var(--line); border-radius:12px; background:black}
    .ratio{position:relative; width:100%; padding-top:56.25%}
    .ratio iframe, .ratio video{position:absolute; inset:0; width:100%; height:100%; border:0; border-radius:12px}

    /* Sidebar (right) */
    .sidebox{padding:12px 14px; border-bottom:1px solid var(--line)}
    .sidebox h4{margin:8px 0}
    .list{margin:0; padding-left:18px; color:var(--muted)}

    /* Footer */
    footer{margin:40px 0 20px; color:var(--muted); text-align:center}

    @media (max-width:1100px){ .project{grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <header>
    <div class="topbar">
      <div class="brand" onclick="navHome()" style="cursor:pointer">
        <div class="logo">SR</div>
        <h1>Nerdmechatronics</h1>
      </div>
      <div class="search">
        <input id="searchInput" placeholder="Search projects, parts, MCUs…" oninput="renderHome()" />
        <button class="btn" onclick="renderHome()">Search</button>
      </div>
      <nav class="links">
        <a href="#" onclick="filterCat('All')">All</a>
        <a href="#" onclick="filterCat('IoT')">IoT</a>
        <a href="#" onclick="filterCat('Robotics')">Robotics</a>
        <a href="#" onclick="filterCat('Firmware')">Firmware</a>
        <a href="#" onclick="filterCat('PCB')">PCB</a>
      </nav>
    </div>
  </header>

  <main class="container" id="app"></main>

  <footer>
    © <span id="y"></span> Sree Raghuveer • Instructables‑style portfolio. Built with vanilla HTML/CSS/JS.
  </footer>

  <script>
  // ---- Data (edit this to add projects like Instructables) ----
  const PROJECTS = [
    {
      slug:"iot-irrigation",
      title:"IoT Irrigation System (Arduino Mega + ESP)",
      cover:"assets/iot-irrigation.jpg",
      category:"IoT",
      difficulty:"Intermediate",
      time:"6–8 hours",
      summary:"Custom PCB + firmware for soil‑moisture monitoring and automated valves with Arduino Cloud dashboard.",
      tags:["Embedded C/C++","ESP Wi‑Fi","Sensors","PCB"],
      heroVideo:"https://www.youtube.com/embed/xxxxxxxxx?rel=0",
      materials:["Arduino Mega","ESP‑01 / ESP32 module","Soil moisture sensors","Solenoid valves","12V pump","Custom PCB","Jumper wires"],
      tools:["Soldering iron","Multimeter","Oscilloscope (optional)","Screwdrivers","Crimping tool"],
      steps:[
        { title:"Overview & BOM", body:`High‑level architecture and bill of materials. The system reads soil moisture, posts to cloud, and actuates valves.`, image:"assets/photo1.jpg" },
        { title:"Schematic & PCB", body:"Show schematic snippets and PCB render. Explain power domains, level shifting, and connectors.", image:"assets/photo2.jpg" },
        { title:"Firmware Setup", body:"Initialize UART/SPI/I²C, sensor drivers, debouncing, Wi‑Fi stack. Include pseudocode block below.", code:`void loop(){
  readSoil();
  publishToCloud();
  controlValves();
}` },
        { title:"Cloud Dashboard", body:"Connect to Arduino Cloud, map variables, create widgets, test telemetry.", video:"https://player.vimeo.com/video/xxxxxxxx?h=abcdef" },
        { title:"Field Test & Results", body:"Graphs, water savings, reliability notes. Add photos of deployment.", image:"assets/photo3.jpg" }
      ]
    },
    {
      slug:"self-balancing-robot",
      title:"Self‑Balancing Robot (PIC32 + MPU6050)",
      cover:"assets/self-balancing.jpg",
      category:"Robotics",
      difficulty:"Advanced",
      time:"10–12 hours",
      summary:"Two‑wheel robot with IMU fusion and PID control. Stepper drivers and real‑time telemetry.",
      tags:["PIC32","MPU6050","PID","C"],
      heroVideo:null,
      materials:["PIC32MK1024MCM100","MPU6050","Stepper motors + drivers","Battery + BMS","Chassis","PCA9685 (optional)"],
      tools:["ST Link/ICD","Logic analyzer","3D printer (optional)","Hex keys"],
      steps:[
        { title:"Mechanical & Electronics", body:"Frame layout, center of mass, wiring harness. Safety and battery isolation.", image:"assets/photo4.jpg" },
        { title:"IMU Fusion", body:"Explain complementary/Kalman filter, sample rate, and gyro bias handling.", image:"assets/imu.jpg" },
        { title:"PID Tuning", body:"Initial gains, step response, anti‑windup. Include code snippet.", code:`err = setpoint - angle;
acc += Ki * err;
cmd = Kp*err + acc + Kd*(err - prev);
prev = err;` },
        { title:"Demo", body:"Embed a local MP4 or link to YouTube.", video:"assets/self-balancing-demo.mp4" }
      ]
    },
    {
      slug:"servo-gimbal",
      title:"High‑Speed Servo Control (PCA9685)",
      cover:"assets/servo-gimbal.jpg",
      category:"Firmware",
      difficulty:"Beginner",
      time:"2–3 hours",
      summary:"Multi‑servo gimbal with acceleration profiles and command queueing.",
      tags:["PCA9685","I²C","Timing"],
      heroVideo:null,
      materials:["Arduino/ESP32","PCA9685 board","Servos (MG996R)","Power supply 6–7V","Wires"],
      tools:["Breadboard","Screwdriver","USB‑TTL"],
      steps:[
        { title:"Wiring", body:"Connection diagram and power considerations (common ground!).", image:"assets/pca9685-wiring.jpg" },
        { title:"Acceleration Profiles", body:"Why ramping matters; jitter tests and results.", image:"assets/scope.jpg" },
        { title:"Demo", body:"Short clip of gimbal sweep.", video:"https://www.youtube.com/embed/yyyyyyyyy?rel=0" }
      ]
    }
  ];

  // ---- Simple router ----
  let CATEGORY = 'All';
  function filterCat(cat){ CATEGORY = cat; renderHome(); }
  function navHome(){ history.pushState({}, '', '#/'); render(); }
  function navProject(slug){ history.pushState({}, '', '#/project/'+slug); render(); }
  window.addEventListener('popstate', render);
  window.addEventListener('hashchange', render);

  function render(){
    const hash = location.hash.replace('#','');
    if(hash.startsWith('/project/')){
      const slug = hash.split('/project/')[1];
      const p = PROJECTS.find(x=>x.slug===slug);
      if(p) return renderProject(p);
    }
    renderHome();
  }

  // ---- Home view ----
  function renderHome(){
    const q = (document.getElementById('searchInput')?.value||'').toLowerCase();
    const list = PROJECTS.filter(p => (CATEGORY==='All' || p.category===CATEGORY) && (
      !q || p.title.toLowerCase().includes(q) || p.summary.toLowerCase().includes(q) || p.tags.join(' ').toLowerCase().includes(q)
    ));

    const app = document.getElementById('app');
    app.innerHTML = `<h2 style="margin:8px 0 14px">Latest Projects</h2><div class="grid"></div>`;
    const grid = app.querySelector('.grid');
    list.forEach(p=>{
      const card = document.createElement('article'); card.className='card';
      card.innerHTML = `
        <img class="thumb" src="${p.cover}" alt="${p.title}">
        <div class="p">
          <div class="title">${p.title}</div>
          <div class="meta">${p.category} • ${p.time} • ${p.difficulty}</div>
          <p style="color:var(--muted); margin:8px 0 0">${p.summary}</p>
          <div class="tags">${p.tags.map(t=>`<span class='tag'>${t}</span>`).join('')}</div>
        </div>`;
      card.addEventListener('click', ()=> navProject(p.slug));
      grid.appendChild(card);
    });
  }

  // ---- Project view ----
  function renderProject(p){
    const app = document.getElementById('app');
    const stepsNav = p.steps.map((s,i)=>`<li><a href="#step-${i+1}" onclick="scrollToStep(${i+1});return false;">Step ${i+1}: ${s.title}</a></li>`).join('');

    app.innerHTML = `
    <div class="project">
      <!-- Left: steps nav -->
      <aside class="pane">
        <h3>Steps</h3>
        <div class="body">
          <ol class="steps-list">${stepsNav}</ol>
        </div>
      </aside>

      <!-- Middle: content -->
      <section class="pane">
        ${p.heroVideo ? `<div class='ratio'><iframe src='${p.heroVideo}' allow='autoplay; encrypted-media; picture-in-picture' allowfullscreen></iframe></div>` : `<img class='hero' src='${p.cover}' alt='${p.title}'>`}
        <div class="body">
          <h2 style="margin:4px 0 4px">${p.title}</h2>
          <div class="stats">
            <span class="pill">Category: ${p.category}</span>
            <span class="pill">Difficulty: ${p.difficulty}</span>
            <span class="pill">Build time: ${p.time}</span>
          </div>
          <div class="actions">
            <button class="cta" onclick="window.print()">Print</button>
            <a class="cta" href="#/" onclick="navHome()">Back to Projects</a>
          </div>

          ${p.steps.map((s,i)=> renderStep(s,i)).join('')}

          <hr style="border:0; border-top:1px solid var(--line); margin:18px 0">
          <h3>Comments</h3>
          <p style="color:var(--muted)">Static site demo – plug in Disqus/Utterances if you want live comments.</p>
        </div>
      </section>

      <!-- Right: materials/tools -->
      <aside class="pane">
        <div class="sidebox">
          <h4>Materials</h4>
          <ul class="list">${p.materials.map(m=>`<li>${m}</li>`).join('')}</ul>
        </div>
        <div class="sidebox">
          <h4>Tools</h4>
          <ul class="list">${p.tools.map(t=>`<li>${t}</li>`).join('')}</ul>
        </div>
        <div class="sidebox">
          <h4>Share</h4>
          <p class="meta">Copy link to share this build:</p>
          <input style="width:100%; padding:8px; border-radius:8px; background:#0c121c; border:1px solid var(--line); color:var(--text)" value="${location.href}" onclick="this.select()"/>
        </div>
      </aside>
    </div>`;
  }

  function renderStep(s,i){
    const num = i+1;
    const media = s.video ? `<div class='ratio media'><iframe src='${s.video}' allow='autoplay; encrypted-media; picture-in-picture' allowfullscreen></iframe></div>` : (s.image ? `<img class='media' src='${s.image}' alt='${s.title}'>` : '');
    const code = s.code ? `<pre style='background:#0c121c; color:#cfe4ff; border:1px solid var(--line); padding:12px; border-radius:10px; overflow:auto'><code>${escapeHtml(s.code)}</code></pre>` : '';
    return `<article class='step' id='step-${num}'>
      <h3>Step ${num}: ${s.title}</h3>
      ${media}
      <p style='color:var(--muted); margin:10px 0 0'>${s.body||''}</p>
      ${code}
    </article>`;
  }

  function scrollToStep(n){
    const el = document.getElementById('step-'+n);
    if(!el) return; el.scrollIntoView({behavior:'smooth', block:'start'});
  }

  function escapeHtml(str){
    return String(str).replace(/[&<>]/g, s=>({"&":"&amp;","<":"&lt;",">":"&gt;"}[s]));
  }

  // init
  function boot(){ document.getElementById('y').textContent = new Date().getFullYear(); render(); }
  boot();
  </script>
</body>
</html>
